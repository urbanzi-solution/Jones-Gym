{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///D:/codes/Jones-Gym/src/components/Inpage_header.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/Inpage_header.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/Inpage_header.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///D:/codes/Jones-Gym/src/components/Inpage_header.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/Inpage_header.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/Inpage_header.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///D:/codes/Jones-Gym/src/components/Dashboard_greeting.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/Dashboard_greeting.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/Dashboard_greeting.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAyS,GACtU,uEACA","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///D:/codes/Jones-Gym/src/components/Dashboard_greeting.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/Dashboard_greeting.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/Dashboard_greeting.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAqR,GAClT,mDACA","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///D:/codes/Jones-Gym/src/components/StaffClient.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/StaffClient.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/StaffClient.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","debugId":null}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///D:/codes/Jones-Gym/src/components/StaffClient.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/StaffClient.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/StaffClient.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","debugId":null}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///D:/codes/Jones-Gym/src/lib/db.js"],"sourcesContent":["import { neon } from '@neondatabase/serverless';\r\n\r\n// Create a Neon serverless client\r\nconst sql = neon(process.env.NEON_DATABASE_URL, {\r\n  // Optional: Configure fetch options for the Neon driver\r\n  fetchOptions: {\r\n    cache: 'no-store', // Prevent caching for serverless environments\r\n  },\r\n});\r\n\r\n// Generic query function\r\nexport async function query(text, params = []) {\r\n  try {\r\n    const result = await sql.query(text, params);\r\n    // Return result in a pg-compatible format\r\n    return { rows: result };\r\n  } catch (err) {\r\n    console.error('Database query error:', err.message);\r\n    throw err;\r\n  }\r\n}\r\n\r\n// For server components (mimics pg client behavior)\r\nexport async function getClient() {\r\n  // Neon driver doesn't use traditional connections, so return a client-like object\r\n  return {\r\n    query: async (text, params = []) => {\r\n      try {\r\n        const result = await sql.query(text, params);\r\n        return { rows: result };\r\n      } catch (err) {\r\n        console.error('Database query error:', err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    release: () => {\r\n      // No-op since Neon driver doesn't use connection pooling\r\n    },\r\n  };\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEA,kCAAkC;AAClC,MAAM,MAAM,CAAA,GAAA,sJAAA,CAAA,OAAI,AAAD,EAAE,QAAQ,GAAG,CAAC,iBAAiB,EAAE;IAC9C,wDAAwD;IACxD,cAAc;QACZ,OAAO;IACT;AACF;AAGO,eAAe,MAAM,IAAI,EAAE,SAAS,EAAE;IAC3C,IAAI;QACF,MAAM,SAAS,MAAM,IAAI,KAAK,CAAC,MAAM;QACrC,0CAA0C;QAC1C,OAAO;YAAE,MAAM;QAAO;IACxB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,yBAAyB,IAAI,OAAO;QAClD,MAAM;IACR;AACF;AAGO,eAAe;IACpB,kFAAkF;IAClF,OAAO;QACL,OAAO,OAAO,MAAM,SAAS,EAAE;YAC7B,IAAI;gBACF,MAAM,SAAS,MAAM,IAAI,KAAK,CAAC,MAAM;gBACrC,OAAO;oBAAE,MAAM;gBAAO;YACxB,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,yBAAyB,IAAI,OAAO;gBAClD,MAAM;YACR;QACF;QACA,SAAS;QACP,yDAAyD;QAC3D;IACF;AACF","debugId":null}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///D:/codes/Jones-Gym/src/app/%28pages%29/staff/page.jsx"],"sourcesContent":["// src\\app\\(pages)\\staff\\page.jsx\r\nimport Inpage_header from \"@/components/Inpage_header\";\r\nimport Dashboardgreeting from \"@/components/Dashboard_greeting\";\r\nimport StaffClient from \"@/components/StaffClient\";\r\nimport { query } from \"@/lib/db\";\r\n\r\nexport default async function Staff({ searchParams }) {\r\n  const { searchQuery, plan } = await searchParams;\r\n\r\n  // Fetch trainers with optional filters\r\n  let queryString = `\r\n    SELECT DISTINCT t.*\r\n    FROM trainers t\r\n    LEFT JOIN membership_plans mp ON t.trainer_id = mp.trainer\r\n  `;\r\n  let queryParams = [];\r\n  let conditions = [];\r\n\r\n  // Apply search query filter (on trainer name)\r\n  if (searchQuery) {\r\n    conditions.push('t.name ILIKE $' + (queryParams.length + 1));\r\n    queryParams.push(`%${searchQuery}%`);\r\n  }\r\n\r\n  // Apply specific plan filter (using membership_plans table)\r\n  if (plan) {\r\n    conditions.push('mp.plan_name = $' + (queryParams.length + 1));\r\n    queryParams.push(plan);\r\n  }\r\n\r\n  if (conditions.length > 0) {\r\n    queryString += ' WHERE ' + conditions.join(' AND ');\r\n  }\r\n\r\n  queryString += ' ORDER BY t.trainer_id';\r\n\r\n  const trainerResult = await query(queryString, queryParams);\r\n  const staff = trainerResult.rows;\r\n\r\n  // Fetch trainer counts for each staff member\r\n  const staffWithCounts = await Promise.all(\r\n    staff.map(async (member) => {\r\n      const countResult = await query(\r\n        `SELECT COUNT(DISTINCT user_id) AS count\r\n          FROM membership_plans\r\n          WHERE trainer = $1\r\n            AND exp_date >= CURRENT_DATE`,\r\n\r\n        // 'SELECT COUNT(*) AS count FROM membership_plans WHERE trainer = $1',\r\n      \r\n        [member.trainer_id]\r\n      );\r\n      return {\r\n        ...member,\r\n        trainerCount: countResult.rows[0].count,\r\n      };\r\n    })\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Dashboardgreeting />\r\n      <StaffClient initialStaff={staffWithCounts} />\r\n      <div className=\"h-20\"></div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,iCAAiC;;;;;AACjC;AACA;AACA;AACA;;;;;;AAEe,eAAe,MAAM,EAAE,YAAY,EAAE;IAClD,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,GAAG,MAAM;IAEpC,uCAAuC;IACvC,IAAI,cAAc,CAAC;;;;EAInB,CAAC;IACD,IAAI,cAAc,EAAE;IACpB,IAAI,aAAa,EAAE;IAEnB,8CAA8C;IAC9C,IAAI,aAAa;QACf,WAAW,IAAI,CAAC,mBAAmB,CAAC,YAAY,MAAM,GAAG,CAAC;QAC1D,YAAY,IAAI,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;IACrC;IAEA,4DAA4D;IAC5D,IAAI,MAAM;QACR,WAAW,IAAI,CAAC,qBAAqB,CAAC,YAAY,MAAM,GAAG,CAAC;QAC5D,YAAY,IAAI,CAAC;IACnB;IAEA,IAAI,WAAW,MAAM,GAAG,GAAG;QACzB,eAAe,YAAY,WAAW,IAAI,CAAC;IAC7C;IAEA,eAAe;IAEf,MAAM,gBAAgB,MAAM,CAAA,GAAA,gHAAA,CAAA,QAAK,AAAD,EAAE,aAAa;IAC/C,MAAM,QAAQ,cAAc,IAAI;IAEhC,6CAA6C;IAC7C,MAAM,kBAAkB,MAAM,QAAQ,GAAG,CACvC,MAAM,GAAG,CAAC,OAAO;QACf,MAAM,cAAc,MAAM,CAAA,GAAA,gHAAA,CAAA,QAAK,AAAD,EAC5B,CAAC;;;wCAG+B,CAAC,EAEjC,uEAAuE;QAEvE;YAAC,OAAO,UAAU;SAAC;QAErB,OAAO;YACL,GAAG,MAAM;YACT,cAAc,YAAY,IAAI,CAAC,EAAE,CAAC,KAAK;QACzC;IACF;IAGF,qBACE,8OAAC;;0BACC,8OAAC,wIAAA,CAAA,UAAiB;;;;;0BAClB,8OAAC,iIAAA,CAAA,UAAW;gBAAC,cAAc;;;;;;0BAC3B,8OAAC;gBAAI,WAAU;;;;;;;;;;;;AAGrB","debugId":null}}]
}