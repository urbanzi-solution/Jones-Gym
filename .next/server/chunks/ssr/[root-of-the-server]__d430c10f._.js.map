{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///D:/codes/Jones-Gym/src/components/Inpage_header.jsx"],"sourcesContent":["\"use client\";\r\nimport { useRouter } from 'next/navigation';\r\nimport { LuUndo2 } from \"react-icons/lu\";\r\nimport { CiExport } from \"react-icons/ci\";\r\n\r\nexport default function Inpage_header({ title, onExport }) {\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <div className=\"flex text-2xl md:text-4xl p-4 md:p-6 lg:p-10 justify-between items-center\">\r\n      <a href=\"#\" onClick={(e) => { e.preventDefault(); router.back(); }}>\r\n        <LuUndo2 className=\"text-[#FFDD4A]\" />\r\n      </a>\r\n      <h1 className=\"text-center w-full font-bold\">{title}</h1>\r\n      <a href=\"#\" onClick={(e) => { e.preventDefault(); onExport(); }}>\r\n        <CiExport className=\"text-[#FFDD4A]\" />\r\n      </a>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS,cAAc,EAAE,KAAK,EAAE,QAAQ,EAAE;IACvD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAE,MAAK;gBAAI,SAAS,CAAC;oBAAQ,EAAE,cAAc;oBAAI,OAAO,IAAI;gBAAI;0BAC/D,cAAA,8OAAC,8IAAA,CAAA,UAAO;oBAAC,WAAU;;;;;;;;;;;0BAErB,8OAAC;gBAAG,WAAU;0BAAgC;;;;;;0BAC9C,8OAAC;gBAAE,MAAK;gBAAI,SAAS,CAAC;oBAAQ,EAAE,cAAc;oBAAI;gBAAY;0BAC5D,cAAA,8OAAC,8IAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI5B","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///D:/codes/Jones-Gym/src/components/edit_transaction_data.jsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport default function EditTransactionData({ transaction, onSave, onCancel }) {\r\n  const [formData, setFormData] = useState({\r\n    user_id: '',\r\n    name: '',\r\n    bill_no: '',\r\n    plan_name: '',\r\n    date: '',\r\n    amount: 0,\r\n    discount: 0,\r\n    balance: 0,\r\n    trans_type: ''\r\n  });\r\n  const [error, setError] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (transaction) {\r\n      setFormData({\r\n        user_id: transaction.user_id || '',\r\n        name: transaction.name || '',\r\n        bill_no: transaction.bill_no || '',\r\n        plan_name: transaction.plan_name || '',\r\n        date: transaction.date ? new Date(transaction.date).toISOString().split('T')[0] : '',\r\n        amount: transaction.amount || 0,\r\n        discount: transaction.discount || 0,\r\n        balance: transaction.balance || 0,\r\n        trans_type: transaction.trans_type || ''\r\n      });\r\n    }\r\n  }, [transaction]);\r\n\r\n  const handleChange = (e) => {\r\n      const { name, value } = e.target;\r\n      setFormData((prev) => {\r\n          const newValue = name === 'amount' || name === 'discount' ? parseFloat(value) || 0 : value;\r\n          const newFormData = { ...prev, [name]: newValue };\r\n\r\n          if (name === 'amount' || name === 'discount') {\r\n              const prevAmount = prev.amount || 0;\r\n              const prevDiscount = prev.discount || 0;\r\n              const prevBalance = prev.balance !== undefined ? prev.balance : initialData.originalBalance;\r\n\r\n              if (name === 'amount') {\r\n                  const amountChange = newValue - prevAmount;\r\n                  newFormData.balance = prevBalance - amountChange; // Increase amount → decrease balance\r\n              } else if (name === 'discount') {\r\n                  const discountChange = newValue - prevDiscount;\r\n                  newFormData.balance = prevBalance - discountChange; // Increase discount → decrease balance\r\n              }\r\n          }\r\n\r\n          return newFormData;\r\n      });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await fetch('/api/edit_trans', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const { error } = await response.json();\r\n        throw new Error(error || 'Failed to update transaction');\r\n      }\r\n\r\n      if (onSave) onSave(formData);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      <h2 className=\"text-xl font-bold mb-4\">Edit Transaction</h2>\r\n\r\n      {/* User ID Field */}\r\n      <div>\r\n        <label className=\"block text-gray-300 mb-1\">User ID</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"user_id\"\r\n          className=\"w-full p-2 bg-[#232024] border border-[#3E3A3D] rounded text-white\"\r\n          value={formData.user_id}\r\n          onChange={handleChange}\r\n          disabled={isSubmitting}\r\n          readOnly\r\n        />\r\n      </div>\r\n      \r\n      {/* Name Field */}\r\n      <div>\r\n        <label className=\"block text-gray-300 mb-1\">User Name</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          className=\"w-full p-2 bg-[#232024] border border-[#3E3A3D] rounded text-white\"\r\n          value={formData.name}\r\n          onChange={handleChange}\r\n          disabled={isSubmitting}\r\n          readOnly\r\n        />\r\n      </div>\r\n\r\n      {/* Bill Number Field */}\r\n      <div>\r\n        <label className=\"block text-gray-300 mb-1\">Bill Number</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"bill_no\"\r\n          className=\"w-full p-2 bg-[#232024] border border-[#3E3A3D] rounded text-white\"\r\n          value={formData.bill_no}\r\n          onChange={handleChange}\r\n          disabled\r\n        />\r\n      </div>\r\n\r\n      {/* Plan Field */}\r\n      <div>\r\n        <label className=\"block text-gray-300 mb-1\">Plan</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"plan_name\"\r\n          className=\"w-full p-2 bg-[#232024] border border-[#3E3A3D] rounded text-white\"\r\n          value={formData.plan_name}\r\n          onChange={handleChange}\r\n          disabled={isSubmitting}\r\n        />\r\n      </div>\r\n\r\n      {/* Date Field */}\r\n      <div>\r\n        <label className=\"block text-gray-300 mb-1\">Date</label>\r\n        <input\r\n          type=\"date\"\r\n          name=\"date\"\r\n          className=\"w-full p-2 bg-[#232024] border border-[#3E3A3D] rounded text-white\"\r\n          value={formData.date}\r\n          onChange={handleChange}\r\n          disabled={isSubmitting}\r\n        />\r\n      </div>\r\n\r\n      {/* Amount Field */}\r\n      <div>\r\n        <label className=\"block text-gray-300 mb-1\">Amount</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"amount\"\r\n          className=\"w-full p-2 bg-[#232024] border border-[#3E3A3D] rounded text-white\"\r\n          value={formData.amount}\r\n          onChange={handleChange}\r\n          disabled={isSubmitting}\r\n        />\r\n      </div>\r\n\r\n      {/* Discount Field */}\r\n      <div>\r\n        <label className=\"block text-gray-300 mb-1\">Discount</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"discount\"\r\n          className=\"w-full p-2 bg-[#232024] border border-[#3E3A3D] rounded text-white\"\r\n          value={formData.discount}\r\n          onChange={handleChange}\r\n          disabled={isSubmitting}\r\n        />\r\n      </div>\r\n\r\n      {/* Balance Field */}\r\n      <div>\r\n        <label className=\"block text-gray-300 mb-1\">Balance</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"balance\"\r\n          className=\"w-full p-2 bg-[#232024] border border-[#3E3A3D] rounded text-white bg-opacity-50\"\r\n          value={formData.balance}\r\n          disabled\r\n        />\r\n      </div>\r\n\r\n      {/* Transaction Type Field */}\r\n      <div>\r\n        <label className=\"block text-gray-300 mb-1\">Transaction Type</label>\r\n        <select\r\n          name=\"trans_type\"\r\n          className=\"w-full p-2 bg-[#232024] border border-[#3E3A3D] rounded text-white\"\r\n          value={formData.trans_type}\r\n          onChange={handleChange}\r\n          disabled={isSubmitting}\r\n        >\r\n          <option value=\"\">Select Transaction Type</option>\r\n          <option value=\"GPay\">GPay</option>\r\n          <option value=\"Cash\">Cash</option>\r\n          <option value=\"Credit Card\">Credit Card</option>\r\n          <option value=\"Bank Transfer\">Bank Transfer</option>\r\n          <option value=\"Other\">Other</option>\r\n        </select>\r\n      </div>\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div className=\"text-red-500 text-sm\">{error}</div>\r\n      )}\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"flex gap-2 pt-2\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          className=\"flex-1 border border-gray-500 text-white rounded py-2 hover:bg-[#1a1a1a]\"\r\n          disabled={isSubmitting}\r\n        >\r\n          Cancel\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"flex-1 bg-[#FFDD4A] text-black font-bold py-2 rounded hover:bg-[#ffd700]\"\r\n          disabled={isSubmitting}\r\n        >\r\n          {isSubmitting ? 'Saving...' : 'Save Changes'}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 555, "column": 0}, "map": {"version":3,"sources":["file:///D:/codes/Jones-Gym/src/components/Report_detailed_transation.jsx"],"sourcesContent":["// src\\components\\Report_detailed_transation.jsx\r\n'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport { FaCaretDown, FaEllipsisV } from \"react-icons/fa\";\r\nimport Inpage_header from \"@/components/Inpage_header\";\r\nimport * as XLSX from 'xlsx';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport EditTransactionData from \"@/components/edit_transaction_data\";\r\n\r\nexport default function DetailedTransactions() {\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [allTransactions, setAllTransactions] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n  const [isCalendarOpen, setIsCalendarOpen] = useState(false);\r\n  const [selectedOption, setSelectedOption] = useState('All');\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n  const [showCustomDate, setShowCustomDate] = useState(false);\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\r\n\r\n  // Fetch transactions from the API\r\n  useEffect(() => {\r\n    const fetchTransactions = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await fetch('/api/fetch_membership_plans');\r\n        const data = await response.json();\r\n        \r\n        if (data.success) {\r\n          // Remove duplicates based on bill_no (keep the first occurrence)\r\n          const uniqueTransactions = data.data.filter((transaction, index, self) =>\r\n            index === self.findIndex(t => t.bill_no === transaction.bill_no)\r\n          );\r\n          \r\n          console.log(\"Original data:\", data.data);\r\n          console.log(\"Unique transactions:\", uniqueTransactions);\r\n          \r\n          setAllTransactions(uniqueTransactions);\r\n          setTransactions(uniqueTransactions); // Show all transactions by default\r\n        } else {\r\n          setError(data.error || 'Failed to fetch transactions');\r\n        }\r\n      } catch (err) {\r\n        setError('Error fetching transactions');\r\n        console.error('Fetch error:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchTransactions();\r\n  }, []);\r\n\r\n  // Only filter when user actively selects a filter option\r\n  // Remove the automatic filtering useEffect\r\n\r\n  console.log(\"transactions\", transactions);\r\n  console.log(\"allTransactions\", allTransactions);\r\n\r\n  // Export to Excel function\r\n  const exportToExcel = () => {\r\n    const data = transactions.map(transaction => ({\r\n      'User ID': transaction.user_id || \"N/A\",\r\n      'User Name': transaction.name || \"N/A\",\r\n      'Bill Number': transaction.bill_no || \"N/A\",\r\n      'Plan': transaction.plan_name || \"N/A\", // Fixed: was transaction.plan\r\n      'Date': transaction.date ? new Date(transaction.date).toLocaleDateString() : \"N/A\",\r\n      'Amount Paid': transaction.amount || \"0\",\r\n      'Discount': transaction.discount || \"0\",\r\n      'Balance': transaction.balance || \"0\",\r\n      'Transaction Type': transaction.trans_type || \"N/A\"\r\n    }));\r\n\r\n    const worksheet = XLSX.utils.json_to_sheet(data);\r\n    const workbook = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Transactions\");\r\n\r\n    // Set column widths\r\n    worksheet['!cols'] = [\r\n      { wch: 10 },  // User ID\r\n      { wch: 20 },  // User Name\r\n      { wch: 15 },  // Bill Number\r\n      { wch: 15 },  // Plan\r\n      { wch: 12 },  // Date\r\n      { wch: 12 },  // Amount Paid\r\n      { wch: 10 },  // Discount\r\n      { wch: 10 },  // Balance\r\n      { wch: 15 },  // Transaction Type\r\n    ];\r\n\r\n    XLSX.writeFile(workbook, \"Detailed_Transactions.xlsx\");\r\n  };\r\n\r\n  // Function to handle edit action\r\n  const handleEdit = (transaction) => {\r\n    setSelectedTransaction(transaction);\r\n    setIsEditModalOpen(true);\r\n  };\r\n\r\n  const handleSave = (updatedTransaction) => {\r\n    // Update the transactions in state\r\n    setTransactions(prev => prev.map(t => \r\n      t.bill_no === updatedTransaction.bill_no ? updatedTransaction : t\r\n    ));\r\n    setAllTransactions(prev => prev.map(t => \r\n      t.bill_no === updatedTransaction.bill_no ? updatedTransaction : t\r\n    ));\r\n    setIsEditModalOpen(false);\r\n    alert('Transaction updated successfully');\r\n  };\r\n\r\n  const handleDelete = async (bill_no) => {\r\n    if (!window.confirm('Are you sure you want to permanently delete this transaction?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/delete_trans', {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ bill_no }),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(result.message || 'Failed to delete transaction');\r\n      }\r\n\r\n      if (result.success) {\r\n        // Update state to remove the deleted transaction\r\n        setTransactions(prev => prev.filter(t => t.bill_no !== bill_no));\r\n        setAllTransactions(prev => prev.filter(t => t.bill_no !== bill_no));\r\n        \r\n        alert('Transaction deleted successfully');\r\n      } else {\r\n        throw new Error(result.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Delete error:', error);\r\n      alert(error.message || 'Error deleting transaction');\r\n    }\r\n  };\r\n\r\n  const toggleDropdown = () => {\r\n    setIsDropdownOpen(!isDropdownOpen);\r\n    if (isCalendarOpen) setIsCalendarOpen(false);\r\n  };\r\n\r\n  const toggleCalendar = () => {\r\n    setIsCalendarOpen(!isCalendarOpen);\r\n    if (isDropdownOpen) setIsDropdownOpen(false);\r\n  };\r\n\r\n  // Filter function - only filters when explicitly called\r\n  const filterTransactions = (option, date) => {\r\n    if (!allTransactions.length) {\r\n      setTransactions([]);\r\n      return;\r\n    }\r\n\r\n    // If \"All\" is selected, show all transactions\r\n    if (option === 'All') {\r\n      setTransactions([...allTransactions]);\r\n      return;\r\n    }\r\n\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    \r\n    let filtered = [...allTransactions];\r\n    \r\n    switch(option) {\r\n      case 'Today':\r\n        filtered = filtered.filter(t => {\r\n          const transDate = new Date(t.date);\r\n          transDate.setHours(0, 0, 0, 0);\r\n          return transDate.getTime() === today.getTime();\r\n        });\r\n        break;\r\n        \r\n      case 'Yesterday':\r\n        const yesterday = new Date(today);\r\n        yesterday.setDate(yesterday.getDate() - 1);\r\n        filtered = filtered.filter(t => {\r\n          const transDate = new Date(t.date);\r\n          transDate.setHours(0, 0, 0, 0);\r\n          return transDate.getTime() === yesterday.getTime();\r\n        });\r\n        break;\r\n        \r\n      case '2 days before':\r\n        const twoDaysBefore = new Date(today);\r\n        twoDaysBefore.setDate(twoDaysBefore.getDate() - 2);\r\n        filtered = filtered.filter(t => {\r\n          const transDate = new Date(t.date);\r\n          transDate.setHours(0, 0, 0, 0);\r\n          return transDate.getTime() === twoDaysBefore.getTime();\r\n        });\r\n        break;\r\n        \r\n      case 'This week':\r\n        const startOfWeek = new Date(today);\r\n        startOfWeek.setDate(startOfWeek.getDate() - startOfWeek.getDay());\r\n        startOfWeek.setHours(0, 0, 0, 0);\r\n        filtered = filtered.filter(t => {\r\n          const transDate = new Date(t.date);\r\n          transDate.setHours(0, 0, 0, 0);\r\n          return transDate >= startOfWeek && transDate <= today;\r\n        });\r\n        break;\r\n        \r\n      case 'Last week':\r\n        const startOfLastWeek = new Date(today);\r\n        startOfLastWeek.setDate(startOfLastWeek.getDate() - startOfLastWeek.getDay() - 7);\r\n        startOfLastWeek.setHours(0, 0, 0, 0);\r\n        const endOfLastWeek = new Date(startOfLastWeek);\r\n        endOfLastWeek.setDate(startOfLastWeek.getDate() + 6);\r\n        endOfLastWeek.setHours(23, 59, 59, 999);\r\n        filtered = filtered.filter(t => {\r\n          const transDate = new Date(t.date);\r\n          return transDate >= startOfLastWeek && transDate <= endOfLastWeek;\r\n        });\r\n        break;\r\n        \r\n      case 'This month':\r\n        const startOfMonth = new Date(today.getFullYear(), today.getMonth(), 1);\r\n        startOfMonth.setHours(0, 0, 0, 0);\r\n        const endOfMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0);\r\n        endOfMonth.setHours(23, 59, 59, 999);\r\n        filtered = filtered.filter(t => {\r\n          const transDate = new Date(t.date);\r\n          return transDate >= startOfMonth && transDate <= endOfMonth;\r\n        });\r\n        break;\r\n        \r\n      case 'Custom date':\r\n        const customDate = new Date(date);\r\n        customDate.setHours(0, 0, 0, 0);\r\n        filtered = filtered.filter(t => {\r\n          const transDate = new Date(t.date);\r\n          transDate.setHours(0, 0, 0, 0);\r\n          return transDate.getTime() === customDate.getTime();\r\n        });\r\n        break;\r\n        \r\n      default:\r\n        // Show all transactions\r\n        break;\r\n    }\r\n    \r\n    console.log(`Filtered ${filtered.length} transactions for ${option}`);\r\n    setTransactions(filtered);\r\n  };\r\n\r\n  // Handle option selection from dropdown\r\n  const handleOptionSelect = (option) => {\r\n    setSelectedOption(option);\r\n    setIsDropdownOpen(false);\r\n    \r\n    if (option === 'Custom date') {\r\n      setIsCalendarOpen(true);\r\n      setShowCustomDate(true);\r\n    } else {\r\n      setShowCustomDate(false);\r\n      filterTransactions(option, selectedDate);\r\n    }\r\n  };\r\n\r\n  // Handle date selection from calendar\r\n  const handleDateChange = (date) => {\r\n    setSelectedDate(date);\r\n    setSelectedOption(date.toLocaleDateString());\r\n    setIsCalendarOpen(false);\r\n    filterTransactions('Custom date', date);\r\n  };\r\n\r\n  const closeAll = () => {\r\n    setIsDropdownOpen(false);\r\n    setIsCalendarOpen(false);\r\n  };\r\n\r\n  const options = [\r\n    'All',\r\n    'Today',\r\n    'Yesterday',\r\n    '2 days before',\r\n    'This week',\r\n    'Last week',\r\n    'This month'\r\n  ];\r\n\r\n  return (\r\n    <div className=\"box\">\r\n      <Inpage_header title='Transactions' onExport={exportToExcel} />\r\n\r\n      {/* Loading and error states */}\r\n      {loading && <div className=\"text-center py-4\">Loading transactions...</div>}\r\n      {error && <div className=\"text-red-500 text-center py-4\">{error}</div>}\r\n\r\n      <div className=\"flex justify-between items-center md:text-xl relative\">\r\n        {/* Date dropdown */}\r\n        <div className=\"relative\">\r\n          <button \r\n            onClick={toggleDropdown}\r\n            className=\"flex items-center px-3 py-1 rounded-md hover:bg-[#404346] transition-colors\"\r\n            aria-expanded={isDropdownOpen}\r\n            aria-haspopup=\"true\"\r\n          >\r\n            {selectedOption} <FaCaretDown className=\"ml-1\" />\r\n          </button>\r\n          \r\n          {isDropdownOpen && (\r\n            <div \r\n              className=\"absolute left-0 mt-1 w-48 bg-[#404346] rounded-md shadow-lg z-20\"\r\n              role=\"menu\"\r\n            >\r\n              <div className=\"py-1\">\r\n                {options.map((option) => (\r\n                  <button\r\n                    key={option}\r\n                    onClick={() => handleOptionSelect(option)}\r\n                    className={`block w-full text-left px-4 py-2 hover:bg-gray-800 ${\r\n                      selectedOption === option ? 'bg-gray-700' : ''\r\n                    }`}\r\n                    role=\"menuitem\"\r\n                  >\r\n                    {option}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Calendar button */}\r\n        <div className=\"relative\">\r\n          <button \r\n            onClick={toggleCalendar}\r\n            className=\"p-2 rounded-md hover:bg-gray-600 transition-colors\"\r\n            aria-expanded={isCalendarOpen}\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n            </svg>\r\n          </button>\r\n          \r\n          {isCalendarOpen && (\r\n            <div \r\n              className=\"absolute right-0 mt-2 z-20\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <DatePicker\r\n                selected={selectedDate}\r\n                onChange={handleDateChange}\r\n                inline\r\n                calendarClassName=\"bg-[#404346] text-white rounded-md shadow-lg\"\r\n                dayClassName={() => \"text-white hover:bg-gray-600\"}\r\n                weekDayClassName={() => \"text-gray-300\"}\r\n                monthClassName={() => \"text-white\"}\r\n                renderCustomHeader={({\r\n                  monthDate,\r\n                  decreaseMonth,\r\n                  increaseMonth,\r\n                }) => (\r\n                  <div className=\"flex items-center justify-between px-2 py-2\">\r\n                    <button\r\n                      onClick={decreaseMonth}\r\n                      className=\"p-1 rounded hover:bg-gray-600\"\r\n                    >\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        className=\"h-5 w-5\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        stroke=\"currentColor\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          strokeWidth={2}\r\n                          d=\"M15 19l-7-7 7-7\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n                    <span className=\"text-white\">\r\n                      {monthDate.toLocaleString('default', {\r\n                        month: 'long',\r\n                        year: 'numeric',\r\n                      })}\r\n                    </span>\r\n                    <button\r\n                      onClick={increaseMonth}\r\n                      className=\"p-1 rounded hover:bg-gray-600\"\r\n                    >\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        className=\"h-5 w-5\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        stroke=\"currentColor\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          strokeWidth={2}\r\n                          d=\"M9 5l7 7-7 7\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Click outside to close */}\r\n        {(isDropdownOpen || isCalendarOpen) && (\r\n          <div \r\n            className=\"fixed inset-0 z-10 bg-transparent\" \r\n            onClick={closeAll}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {/* Debug info - remove in production */}\r\n      <div className=\"mt-4 text-sm text-gray-400\">\r\n        <p>Total transactions: {allTransactions.length}</p>\r\n        <p>Filtered transactions: {transactions.length}</p>\r\n        <p>Current filter: {selectedOption}</p>\r\n      </div>\r\n\r\n      {/* Transactions Table */}\r\n      <div className=\"mt-8 overflow-x-auto\">\r\n        {!loading && !error && transactions.length === 0 ? (\r\n          <div className=\"text-center py-4\">\r\n            {selectedOption === 'All' ? 'No transactions found' : `No transactions found for ${selectedOption}`}\r\n          </div>\r\n        ) : (\r\n        <table className=\"min-w-full text-center\">\r\n          <thead>\r\n            <tr className=\"text-center font-bold md:text-lg text-sm\">\r\n              <th className=\"p-3 bg-[#303336] border-r\">User id</th>\r\n              <th className=\"p-3 bg-[#303336] border-r\">User name</th>\r\n              <th className=\"p-3 bg-[#303336] border-r\">Bill No</th>\r\n              <th className=\"p-3 bg-[#303336] border-r\">Plan</th>\r\n              <th className=\"p-3 bg-[#303336] border-r\">Date</th>\r\n              <th className=\"p-3 bg-[#303336] border-r\">Amount Paid</th>\r\n              <th className=\"p-3 bg-[#303336] border-r\">Discount</th>\r\n              <th className=\"p-3 bg-[#303336] border-r\">Balance</th>\r\n              <th className=\"p-3 bg-[#303336] border-r\">Transaction Type</th>\r\n              <th className=\"p-3 bg-[#303336] rounded-tr-lg\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {transactions.map((transaction) => (\r\n              <tr key={transaction.bill_no} className=\"group text-sm\">\r\n                <td className=\"p-3 py-6 bg-[#404346] text-white group-hover:bg-[#505356] border-r\">\r\n                  {transaction.user_id}\r\n                </td>\r\n                <td className=\"p-3 py-6 bg-[#404346] text-white border-r group-hover:bg-[#505356]\">\r\n                  {transaction.name}\r\n                </td>\r\n                <td className=\"p-3 py-6 bg-[#404346] text-white group-hover:bg-[#505356] border-r\">\r\n                  {transaction.bill_no}\r\n                </td>\r\n                <td className=\"p-3 py-6 bg-[#404346] text-white group-hover:bg-[#505356] border-r\">\r\n                  {transaction.plan_name}\r\n                </td>\r\n                <td className=\"p-3 py-6 bg-[#404346] text-white group-hover:bg-[#505356] border-r\">\r\n                  {new Date(transaction.date).toISOString().split('T')[0]}\r\n                </td>\r\n                <td className=\"p-3 py-6 bg-[#404346] text-white group-hover:bg-[#505356] border-r\">\r\n                  ${transaction.amount}\r\n                </td>\r\n                <td className=\"p-3 py-6 bg-[#404346] text-white group-hover:bg-[#505356] border-r\">\r\n                  ${transaction.discount}\r\n                </td>\r\n                <td className=\"p-3 py-6 bg-[#404346] text-white group-hover:bg-[#505356] border-r\">\r\n                  ${transaction.balance}\r\n                </td>\r\n                <td className=\"p-3 py-6 bg-[#404346] text-white group-hover:bg-[#505356] border-r\">\r\n                  {transaction.trans_type}\r\n                </td>\r\n                <td className=\"p-3 py-6 bg-[#404346] text-white group-hover:bg-[#505356] relative\">\r\n                  <div className=\"dropdown\">\r\n                    <button \r\n                    className=\"text-white hover:text-gray-300\"\r\n                    >\r\n                      <FaEllipsisV />\r\n                    </button>\r\n                    <div className=\"dropdown-menu absolute right-0 mt-2 w-48 bg-[#404346] rounded-md shadow-lg z-10 hidden group-hover:block\">\r\n                      <button\r\n                        onClick={() => handleEdit(transaction)}\r\n                        className=\"block w-full text-left px-4 py-2 text-sm text-white hover:bg-[#505356]\"\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDelete(transaction.bill_no)}\r\n                        className=\"block w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-[#505356]\"\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        )}\r\n      </div>\r\n\r\n      {/* Edit Modal */}\r\n      {isEditModalOpen && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-[#27292b] p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto\">\r\n            <EditTransactionData \r\n              transaction={selectedTransaction}\r\n              onSave={handleSave}\r\n              onCancel={() => setIsEditModalOpen(false)}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}